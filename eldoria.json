{
    "$schema": "./game_schema.json",
    "version": "1.0",
    "title": "The Lost Treasure of Eldoria",
    "start": "start",
    "items": {
        "magic_stone": {
            "name": "Magic Stone (Fire)",
            "description": "A heavy, glowing stone that grants the bearer the ability to use fire magic.",
            "tags": ["magic", "fire"]
        },
        "cookie": {
            "name": "Cookie",
            "description": "A delicious cookie that restores health.",
            "tags": ["food", "healing"]
        },
        "healing_potion": {
            "name": "Healing Potion",
            "description": "A potion that restores health when consumed.",
            "tags": ["potion", "healing"]
        }
    },
    "stages": {
        "start": {
            "description": "You find yourself in a dark forest. The trees are tall and the path is narrow.",
            "options": [
                {
                    "label": "Explore deeper into the forest.",
                    "target": "cave"
                },
                {
                    "label": "Head towards the nearby village.",
                    "target": "village"
                }
            ]
        },
        "cave": {
            "description": "You encounter a mysterious cave. The entrance is dark and foreboding.",
            "options": [
                {
                    "label": "Pick up a glowing stone from the ground.",
                    "target": "cave",
                    "effects": {
                        "add_item": "magic_stone"
                    }
                },
                {
                    "label": "Leave the cave and return to the forest.",
                    "target": "start"
                }
            ]
        },
        "village": {
            "description": "You arrive at a small village. The villagers seem friendly and curious about your journey. There is a wizard's shop and an inn here.",
            "options": [
                {
                    "label": "Talk to the village wizard.",
                    "target": "wizard_shop"
                },
                {
                    "label": "Rest at the village inn.",
                    "target": "village_inn"
                },
                {
                    "label": "Travel to the mountains.",
                    "target": "mountains",
                    "condition": {
                        "has_item": "magic_stone",
                        "flag_set": "quest_started"
                    }
                }
            ]
        },
        "wizard_shop": {
            "description": "The wizard's shop is filled with magical items and potions. The wizard greets you warmly.",
            "options": [
                {
                    "label": "Show the wizard the Magic Stone.",
                    "target": "quest_given",
                    "condition": {
                        "has_item": "magic_stone"
                    }
                },
                {
                    "label": "Buy a healing potion.",
                    "target": "village",
                    "effects": {
                        "add_item": "healing_potion"
                    }
                },
                {
                    "label": "Leave the shop.",
                    "target": "village"
                }
            ]
        },
        "quest_given": {
            "description": "The wizard's eyes widen at the sight of the stone. 'You are the one destined to find Eldoria's treasure. Travel to the mountains to claim your reward!'",
            "options": [
                {
                    "label": "Accept the quest.",
                    "target": "village",
                    "effects": {
                        "set_flag": "quest_started"
                    }
                }
            ]
        },
        "village_inn": {
            "description": "The inn is cozy and warm. You can rest here to regain your strength.",
            "options": [
                {
                    "label": "Rest for a while.",
                    "target": "village",
                    "effects": {
                        "add_item": "cookie"
                    }
                },
                {
                    "label": "Leave the inn.",
                    "target": "village"
                }
            ]
        },
        "mountains": {
            "description": "The mountains loom above you, icy winds howling. A cave entrance glows faintly in the distance.",
            "options": [
                {
                    "label": "Enter the glowing cave.",
                    "target": "treasure_room"
                },
                {
                    "label": "Return to the village.",
                    "target": "village"
                }
            ]
        },
        "treasure_room": {
            "description": "You find an ancient chest surrounded by flames. With the Magic Stone, you command the fire to part and claim the Lost Treasure of Eldoria!",
            "options": []
        }
    }
}
